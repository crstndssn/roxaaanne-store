{% comment %}
  Renders an article card for a given blog with settings to either show the image or not.

  Accepts:
  - blog: {Object} Blog object
  - article: {Object} Article object
  - media_aspect_ratio: {String} The setting changes the aspect ratio of the article image, if shown
  - media_height: {String} The setting changes the height of the article image. Overrides media_aspect_ratio.
  - show_image: {String} The setting either show the article image or not. If it's not included it will show the image by default
  - show_date: {String} The setting either show the article date or not. If it's not included it will not show the image by default
  - show_author: {String} The setting either show the article author or not. If it's not included it will not show the author by default
  - show_badge: {String} The setting either show the blog badge or not.
  - lazy_load: {Boolean} Image should be lazy loaded. Default: true (optional)

  Usage:
  {% render 'article-card' blog: blog, article: article, show_image: section.settings.show_image %}
{% endcomment %}

{%- if article and article != empty -%}
  <div class="border-2 border-[#c9c9c9] rounded-xl overflow-hidden hover:shadow-lg transition-shadow">
    <a href="{{ article.url }}" class="block">
      {%- if show_image == true and article.image -%}
        <div class="w-full h-[250px] overflow-hidden">
          <img
            src="{{ article.image.src | image_url: width: 1500 }}"
            alt="{{ article.image.src.alt | escape }}"
            class="w-full h-full object-cover"
            {% unless lazy_load == false %}
            loading="lazy"
            {% endunless %}
            width="{{ article.image.width }}"
            height="{{ article.image.height }}">
        </div>
      {%- endif -%}

      <div class="p-5">
        <h3 class="text-[17px] font-semibold mb-2 text-black dark:text-[#feffee] hover:underline">
          {{ article.title | escape }}
        </h3>

        {%- if show_date -%}
          <p class="text-lg text-gray-600 dark:text-gray-400">
            {{ article.published_at | time_tag: format: 'date' }}
          </p>
        {%- endif -%}
      </div>
    </a>
  </div>
{%- endif -%}
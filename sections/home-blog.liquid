<!-- Home Articles Destacados -->
<div class="bg-black flex flex-col justify-center items-center my-3 px-8 md:px-0">
  <div class="w-full container mx-auto my-4">
    {% if section.settings.title != blank %}
      <h2 class="text-[27px] text-white font-medium mb-2 tracking-tight">
        {{ section.settings.title }}
      </h2>
    {% endif %}

    {% if section.blocks.size > 0 %}
      <div class="flex overflow-x-scroll md:grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 pb-8 mt-7 gap-7 md:gap-4">
        {% for block in section.blocks %}
          {% assign article = articles[block.settings.article] %}
          {% if article %}
            <a href="{{ article.url }}" class="bg-white/10 rounded-b-xl">
              <div class="block w-full min-w-[270px] overflow-hidden flex flex-col">
                {% if article.image %}
                  <img
                    width="auto"
                    height="auto"
                    src="{{ article.image | img_url: '600x' }}"
                    alt="{{ article.title }}"
                    class="w-full h-[170px] object-cover rounded-xl">
                {% endif %}

                <div class="p-4 flex justify-between items-center flex-1">
                  <h3 class="text-2xl font-semibold text-white">{{ article.title }}</h3>
                  <p class="text-lg text-gray-300 opacity-80 mb-1">
                    por
                    {% if article.metafields.custom.autor != blank %}
                      {{ article.metafields.custom.autor }}
                    {% else %}
                      {{ article.author }}
                    {% endif %}
                  </p>
                </div>
              </div>
            </a>
          {% endif %}
        {% endfor %}
      </div>
    {% else %}
      <p class="text-gray-400 mt-4">No has agregado artículos destacados todavía.</p>
    {% endif %}


    <div class="w-full mt-10">
      <a href="{{ section.settings.view_all_url }}" class="w-full block py-3 text-center border border-white rounded-lg hover:bg-white/10 transition-colors duration-200 px-6">
        {{ section.settings.view_all_text }}
      </a>
    </div>


  </div>
</div>

{% schema %}
  {
    "name": "Home Articles",
    "settings": [
      {
        "type": "text",
        "id": "title",
        "label": "Título de la sección",
        "default": "Artículos destacados"
      }, {
        "type": "url",
        "id": "view_all_url",
        "label": "URL botón Ver todos"
      }, {
        "type": "text",
        "id": "view_all_text",
        "label": "Texto botón Ver todos",
        "default": "ver todos"
      }
    ],
    "blocks": [
      {
        "type": "article",
        "name": "Artículo",
        "settings": [
          {
            "type": "article",
            "id": "article",
            "label": "Selecciona un artículo"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Home Articles",
        "category": "Custom"
      }
    ]
  }
{% endschema %}